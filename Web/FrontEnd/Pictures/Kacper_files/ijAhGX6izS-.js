if (self.CavalryLogger) { CavalryLogger.start_js(["IQAfu"]); }

__d("ChatDialogConfirmationButtons.react",["fbt","React","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={confirmActionIndex:null},this.$1=function(a){a=this.props.buttons;var b=this.state.confirmActionIndex;if(!!b||b===0){this.setState({confirmActionIndex:null});a=a[b];a&&a.onClick()}}.bind(this),this.$2=function(){this.setState({confirmActionIndex:null})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props.buttons,c=this.state.confirmActionIndex,d=g._("Are you sure?"),e=g._("Cancel");if(!!c||c===0)return b("React").createElement("span",null,b("React").createElement(b("XUIButton.react"),{key:"confim",label:d,onClick:this.$1,use:"confirm"},d),b("React").createElement(b("XUIButton.react"),{key:"cancel",label:e,onClick:this.$2},e));else return a.map(function(a,c){var d=a.label,e=a.onClick;a=a.requiresConfirmation;if(a)return b("React").createElement(b("XUIButton.react"),{key:"button-requiresConfirmation-"+c,label:d,onClick:function(){this.$3(c)}.bind(this)},d);else return b("React").createElement(b("XUIButton.react"),{key:"button-"+c,label:d,onClick:e},d)}.bind(this))};a.prototype.$3=function(a){this.setState({confirmActionIndex:a})};e.exports=a}),null);
__d("ChatDetailStack.re",["ChatDetailStack.bs","bs_curry","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("ChatDetailStack.bs").component,function(a){return b("bs_curry")._3(b("ChatDetailStack.bs").make,a.topDetail,a.bottomDetail,a.children)});f.component=a;f["default"]=a}),null);
__d("ChatGroupMembershipAdminTab.react",["cx","fbt","ChatDetailStack.re","ChatDialogConfirmationButtons.react","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryThreadActions","MessengerAdminGroupUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ChatDetailStack.re").component,k=b("MercuryThreadActions").get(),l=50;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.admins,d=a.participants,e=a.thread,f=h._("Remove as Admin");a=d.filter(function(a){return b("MessengerAdminGroupUtils").isAdmin(c,a.id)});var g=b("MessengerAdminGroupUtils").isAdmin(c,b("CurrentUser").getID());d=a.reduce(function(a,d){var h="",i=d.id,k=b("MercuryIDs").getUserIDFromParticipantID(i);k=e&&b("MessengerAdminGroupUtils").canRemoveAdmin(g,!0,c[k],e);h=b("React").createElement("li",{className:"_2ll0 _2pi3",key:i},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:l,profiles:[{image_src:d.image_src,name:d.name,work_foreign_entity_info:d.work_foreign_entity_info}]})),b("React").createElement(j,{bottomDetail:h,topDetail:d.name}),k?b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:[{label:f,onClick:function(){this.$1(i)}.bind(this),requiresConfirmation:!0}]})):null);i===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())?a.unshift(h):a.push(h);return a}.bind(this),[]);return b("React").createElement("ul",null,d)};a.prototype.$1=function(a){k.changeGroupAdmins(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),[b("MercuryIDs").getUserIDFromParticipantID(a)],!1)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ChatGroupMembershipMembersTab.react",["cx","fbt","ChatDetailStack.re","ChatDialogConfirmationButtons.react","CurrentUser","FacepileRounded.react","MercuryIDs","MercuryThreadActions","MessengerAdminGroupUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ChatDetailStack.re").component,k=b("MercuryThreadActions").get(),l=50;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(){k.leaveGroup(this.props.threadID)}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.admins,d=a.participants,e=a.thread,f=h._("Remove"),g=h._("Make Admin"),i=h._("Leave Group"),k=b("CurrentUser").getID(),m=b("MessengerAdminGroupUtils").isAdmin(c,k),n=Object.keys(c).length===0;a=d.reduce(function(a,d){__p&&__p();var o=d.id,p=b("MercuryIDs").getUserIDFromParticipantID(o),q=b("MessengerAdminGroupUtils").isAdmin(c,o),r=p===k;p=c&&e&&b("MessengerAdminGroupUtils").canRemoveFromGroup(m,c[p],e);var s=q?h._("Admin"):null,t=[];q=m&&!q;var u=r&&n;(q||u)&&t.push({label:g,onClick:function(){this.$1(o)}.bind(this),requiresConfirmation:!0});r?t.push({label:i,onClick:this.$2,requiresConfirmation:!0}):p&&t.push({label:f,onClick:function(){this.$3(o)}.bind(this),requiresConfirmation:!0});q=b("React").createElement("li",{className:"_33zx _2pi3",key:o},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:l,profiles:[{image_src:d.image_src,name:d.name,work_foreign_entity_info:d.work_foreign_entity_info}]})),b("React").createElement(j,{bottomDetail:s,topDetail:d.name}),b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:t})));o===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())?a.unshift(q):a.push(q);return a}.bind(this),[]);return b("React").createElement("ul",null,a)};a.prototype.$3=function(a){k.removeFromGroup(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),b("MercuryIDs").getUserIDFromParticipantID(a))};a.prototype.$1=function(a){k.changeGroupAdmins(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID),[b("MercuryIDs").getUserIDFromParticipantID(a)],!0)};e.exports=a}),null);
__d("ChatGroupMembershipRequestSetting.react",["cx","fbt","ChatDialogConfirmationButtons.react","MercuryThreadActions","MessengerApprovalModeTypes","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreadActions").get();c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.thread,c=a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;j.setApprovalMode(c?b("MessengerApprovalModeTypes").OPEN:b("MessengerApprovalModeTypes").APPROVALS,a)}.bind(this),c}a.prototype.render=function(){var a=this.props.thread;a=a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;var c=a?h._("Admin Approval: ON"):h._("Admin Approval: OFF");a=a?h._("Turn off"):h._("Turn on");return b("React").createElement("div",{className:"_32ly",key:"requestSettings"},b("React").createElement("div",{className:"_32lz"},c,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:[{label:a,onClick:this.$1,requiresConfirmation:!0}]})),b("React").createElement("div",{className:"_32l- _2pi2"},h._("Admins can approve new people that are added by non-admins or people that are invited to join the group.")))};e.exports=a}),null);
__d("ChatGroupMembershipRequestTab.react",["cx","fbt","ChatDetailStack.re","ChatDialogConfirmationButtons.react","ChatGroupMembershipRequestSetting.react","CurrentUser","FacepileRounded.react","MercuryIDs","MessengerApprovalModeTypes","MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation","React","WebGraphQL","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ChatDetailStack.re").component,k=50;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.membershipParticipants,d=a.thread,e=a.threadID;a=d&&d.approval_mode===b("MessengerApprovalModeTypes").APPROVALS;var f=d?d.group_approval_queue:[];a=a&&f&&f.length&&c?f.reduce(function(a,d){__p&&__p();var f=d.inviter,g=d.requester;d=c.find(function(a){return a.fbid===f.id});var i=c.find(function(a){return a.fbid===g.id});if(!i)return a;var l=[{label:h._("Approve"),onClick:function(){this.$1(e,g.id)}.bind(this),requiresConfirmation:!0},{label:h._("Ignore"),onClick:function(){this.$2(e,g.id)}.bind(this),requiresConfirmation:!0}];d=d?h._("Invited by {inviter name}",[h._param("inviter name",d.name)]):null;a.push(b("React").createElement("li",{className:"_4y_j _2pi3",key:g.id},b("React").createElement("div",{className:"_3-8s"},b("React").createElement(b("FacepileRounded.react"),{imageSize:k,profiles:[{image_src:i.image_src,name:i.name}]})),b("React").createElement(j,{bottomDetail:d,topDetail:i.name}),b("React").createElement("div",null,b("React").createElement(b("ChatDialogConfirmationButtons.react"),{buttons:l}))));return a}.bind(this),[]):null;f=d?b("React").createElement(b("ChatGroupMembershipRequestSetting.react"),{key:"requestSettings",thread:d}):null;return[f,b("React").createElement("ul",{key:"requestSection"},a)]};a.prototype.$1=function(a,c){b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),user_ids:[c],response:"ACCEPT",surface:"WEB_ADMIN_MODEL_APPROVAL_CENTER"}}))};a.prototype.$2=function(a,c){b("WebGraphQL").exec(new(b("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation"))({data:{client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:b("MercuryIDs").getThreadFBIDFromThreadID(a),user_ids:[c],response:"DENY",surface:"WEB_ADMIN_MODEL_APPROVAL_CENTER"}}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ChatGroupMembershipDialog.react",["ChatGroupMembershipAdminTab.react","ChatGroupMembershipMembersTab.react","ChatGroupMembershipRequestTab.react","CurrentUser","LayerFadeOnHide","React","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={selectedTab:"chatGroupMembershipMembers"},this.$1=function(a){this.setState({selectedTab:a})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.thread,d=a.threadID,e=a.participants;a=a.membershipParticipants;var f=c&&c.admins||{},g=Object.keys(f).length>0,h=f[b("CurrentUser").getID()]!==void 0,i=g?h?this.$2():this.$3():this.$4(),j=b("React").createElement(b("ChatGroupMembershipMembersTab.react"),{admins:f,participants:e,thread:c,threadID:d});this.state.selectedTab==="chatGroupMembershipAdmins"&&g?j=b("React").createElement(b("ChatGroupMembershipAdminTab.react"),{admins:f,participants:e,thread:c,threadID:d}):this.state.selectedTab==="chatGroupMembershipRequests"&&h&&(j=b("React").createElement(b("ChatGroupMembershipRequestTab.react"),{membershipParticipants:a,participants:e,thread:c,threadID:d}));return b("React").createElement(b("XUIDialog.react"),{shown:this.props.dialogShown,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},onHide:this.props.onHide,isStrictlyControlled:!0,label:"Membership",width:445},i,b("React").createElement(b("XUIDialogBody.react"),null,j))};a.prototype.$3=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipAdmins"},b("React").createElement("span",{id:"chatGroupMembershipAdmins"},"Admins")))};a.prototype.$4=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")))};a.prototype.$2=function(){return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$1},b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipMembers"},b("React").createElement("span",{id:"chatGroupMembershipMembers"},"Members")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipAdmins"},b("React").createElement("span",{id:"chatGroupMembershipAdmins"},"Admins")),b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:"chatGroupMembershipRequests"},b("React").createElement("span",{id:"chatGroupMembershipRequests"},"Membership Requests")))};e.exports=a}),null);