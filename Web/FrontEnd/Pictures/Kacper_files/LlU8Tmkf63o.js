if (self.CavalryLogger) { CavalryLogger.start_js(["5N5DY"]); }

__d("UFIFeedbackContext.react",["React","UFICentralUpdates","UFIFeedbackTargets"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.state={contextArgs:this.props.contextArgs,feedback:null},b}a.prototype.loadFeedbackTarget=function(a){this.$1||(this.$1=b("UFIFeedbackTargets").getFeedbackTarget(a,function(a){this.$1=null,this.setState({feedback:a})}.bind(this)))};a.prototype.componentDidMount=function(){this.loadFeedbackTarget(this.state.contextArgs.ftentidentifier),this.ufiCentralUpdatesSubscriptions=[b("UFICentralUpdates").subscribe("feedback-updated",function(a,b){a=this.state.contextArgs;a.ftentidentifier in b.updates&&this.loadFeedbackTarget(a.ftentidentifier)}.bind(this))]};a.prototype.componentWillUnmount=function(){this.ufiCentralUpdatesSubscriptions.forEach(function(a){return a&&b("UFICentralUpdates").unsubscribe(a)}),this.$1&&b("UFIFeedbackTargets").unsubscribe(this.$1)};a.prototype.render=function(){return this.state.feedback?this.props.render(this.state.contextArgs,this.state.feedback):null};a.propTypes={contextArgs:c.object.isRequired,render:c.func.isRequired};a.contextTypes={stores:c.object};e.exports=a}),null);
__d("UFIAddCommentController",["Parent","PrivateCommentsConfig","React","ReactDOM","UFIAddComment.react","UFIAddCommentActionType","UFIAsyncWrapper","UFICallbackStore","UFICommentEditIDStore","UFIDispatcher","UFIDispatcherContext.react","UFIFeedbackContext.react","UFINewCommentNotifier"],(function(a,b,c,d,e,f){"use strict";__p&&__p();g.factory=function(a,b){b.rootid=a.id;return new g(a,Object.freeze(b))};function g(a,c){this.renderAddComment=function(a,c){return this.$5!==null||!c||!c.cancomment||!c.actorforpost?null:b("React").createElement(b("UFIAddComment.react"),{viewerActorID:c.actorforpost,targetID:c.ownerid,targetName:c.actorname,groupID:c.grouporeventid,initialData:null,ref:null,withoutSeparator:!1,editingComment:{},isEditing:!1,allowLiveVideoCommentReplyMode:!0,mentionsDataSource:c.mentionsdatasource,showSendOnEnterTip:c.showsendonentertip,peopleOutsideCommunityInCommentNotice:c.peopleoutsidecommunityincommentnotice,allowPhotoAttachments:c.allowphotoattachments&&!a.islivestreaming&&!a.isActiveLivingRoom,allowVideoAttachments:c.allowvideoattachments&&!a.islivestreaming&&!a.isActiveLivingRoom,allowFileAttachments:c.allowfileattachments&&!a.islivestreaming&&!a.isActiveLivingRoom,allowStickerAttachments:c.allowstickerattachments&&(!a.islivestreaming||c.allowLiveVideoStickerAttachments),allowCustomStickerAttachments:c.allowgaminglivestreamcustomstickers,allowCustomStickerAttachmentsV2:c.allowgaminglivestreamcustomstickersv2,allowGifAttachments:c.allowgifattachments&&(!a.islivestreaming||c.allowgaminglivestreamgifattachments)&&!a.isActiveLivingRoom,allowBotMentions:c.allowbotmentions&&!a.islivestreaming&&!a.isActiveLivingRoom,allowNativeTipJar:c.isnativetipjarenabled,tipJarModule:c.tipjarmodule,allowFlexibleTipping:c.isflexibletippingenabled,flexibleStarsModule:c.flexiblestarsmodule,allowTogglePrivateComments:(b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled)&&c.canviewercommentinprivate,privateCommentTarget:c.actorname,contextArgs:a,feedback:c,subtitle:c.subtitle,commentsTargetID:c.commentstargetfbid,allowCommentMarkdown:a.allowcommentmarkdown})}.bind(this),this.$1=a,this.$2=c,this.$3=new(b("UFIDispatcher"))(),this.$4={UFICallbackStore:new(b("UFICallbackStore"))(this.$3)},this.$4.UFICallbackStore.on(b("UFIAddCommentActionType").SUBMIT_NEW,function(c){return b("UFINewCommentNotifier").onNewComment(b("Parent").byTag(a,"form"),this.$2,c.comment,c.target,c.replyCommentID,c.timestamp)}.bind(this)),this.$5=b("UFICommentEditIDStore").getForInstance(this.$2.instanceid),b("UFICommentEditIDStore").addListener(function(){var a=b("UFICommentEditIDStore").getForInstance(this.$2.instanceid);a!=this.$5&&(this.$5=a,this.render())}.bind(this)),this.render()}g.prototype.render=function(){var a=b("React").createElement(b("UFIDispatcherContext.react"),{dispatcher:this.$3,stores:this.$4},b("React").createElement(b("UFIFeedbackContext.react"),{contextArgs:this.$2,render:this.renderAddComment}));b("ReactDOM").render(b("React").createElement(b("UFIAsyncWrapper"),null,a),this.$1)};g.prototype.disable=function(){this.$4.UFICallbackStore.remove()};e.exports=g}),null);
__d("UFIReactionsStandalone.react",["React","UFIDispatcher","UFIDispatcherContext.react","UFIFeedbackContext.react","UFIReactionsLinkImpl.react","UFIReactionStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.UNSAFE_componentWillMount=function(){this.$1=new(b("UFIDispatcher"))(),this.$2={UFIReactionStore:new(b("UFIReactionStore"))(this.$1)}};a.prototype.componentWillUnmount=function(){this.$2={},this.$1=null};a.prototype.render=function(){return this.$1?b("React").createElement(b("UFIDispatcherContext.react"),{dispatcher:this.$1,stores:this.$2},b("React").createElement(b("UFIFeedbackContext.react"),{contextArgs:this.props.contextArgs,render:function(a,c){return b("React").createElement(b("UFIReactionsLinkImpl.react"),{contextArgs:a,nuxConfig:a.reactionsNuxConfig,reaction:c.viewerreaction,supportedReactions:c.supportedreactions,ftIdentifier:a.ftentidentifier})}})):null};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("TahoeUFIReactionSocialSentenceBling.react",["React","TrackingNodes","UFIReactionsBlingSocialSentence.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.BLINGBOX);return b("React").createElement(b("UFIReactionsBlingSocialSentence.react"),babelHelpers["extends"]({"data-comment-prelude-ref":"action_link_bling","data-ft":a,aboveUFI:!0},this.props))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("TahoeUFIController",["React","ReactDOM","TahoeUFIReactionSocialSentenceBling.react","UFIActionLinks.react","UFIAsyncWrapper","UFIDispatcher","UFIDispatcherContext.react","UFIFeedbackContext.react","UFIReactionStore","UFISharedDispatcher","UFIStoryAction"],(function(a,b,c,d,e,f){"use strict";a={renderUFI:function(a){this._blingRoot=a.blingRoot,this._actionBarRoot=a.actionBarRoot,this._dispatcher=new(b("UFIDispatcher"))(),this._stores={UFIReactionStore:new(b("UFIReactionStore"))(this._dispatcher)},this._renderBling(a.contextArgs,a.commentCount),this._renderActionBar(a.contextArgs)},_renderBling:function(a,c){b("ReactDOM").render(b("React").createElement(b("UFIAsyncWrapper"),null,b("React").createElement(b("UFIDispatcherContext.react"),{dispatcher:this._dispatcher,stores:this._stores},b("React").createElement(b("UFIFeedbackContext.react"),{contextArgs:a,render:function(a,d){return b("React").createElement(b("TahoeUFIReactionSocialSentenceBling.react"),{feedback:d,commentCount:c,href:"#",contextArgs:a,onCommentClick:function(){b("UFISharedDispatcher").dispatch(b("UFIStoryAction").showComments(a))}})}}))),this._blingRoot)},_renderActionBar:function(a){b("ReactDOM").render(b("React").createElement(b("UFIAsyncWrapper"),null,b("React").createElement(b("UFIDispatcherContext.react"),{dispatcher:this._dispatcher,stores:this._stores},b("React").createElement(b("UFIFeedbackContext.react"),{contextArgs:a,render:function(a,c){return b("React").createElement(b("UFIActionLinks.react"),{feedbacktarget:c,contextArgs:a,hideBling:!0})}}))),this._actionBarRoot)}};e.exports=a}),null);